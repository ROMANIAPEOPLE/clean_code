## κ²½κ³„

### 1. κ²½κ³„μ§“κΈ°(1) - μ°λ¦¬ μ½”λ“λ¥Ό λ³΄νΈν•κΈ°

π§ **μΊ΅μν™” : κ°μ²΄μ μ‹¤μ  κµ¬ν„μ„ μ™Έλ¶€λ΅λ¶€ν„° κ°μ¶”λ” λ°©μ‹**

<img width="569" alt="α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2021-08-24 α„‹α…©α„’α…® 10 49 28" src="https://user-images.githubusercontent.com/39195377/130645720-d09ebe3c-1ff1-49a6-9ac9-50677289f035.png">


π¤” **example : SensorλΌλ” κ°μ²΄λ” μ–΄λ–»κ² κ΄€λ¦¬ν•΄μ•Ό ν• κΉ?** 

- Sensor Idμ™€ Sensor κ°μ²΄λ΅ μ €μ¥ν•κ³  μ‹¶μ–΄μ„, Sensor Idλ¥Ό keyλ΅, Sensor κ°μ²΄λ¥Ό valueλ΅ ν•λ” Mapμ„ μ‚¬μ©ν•λ‹¤.
- ν•μ§€λ§ Mapμ„ μ λ„λ¦­ν• ν•νƒλ΅ κ·Έλ€λ΅ μ‚¬μ©ν•λ©΄ Map μΈν„°νμ΄μ¤κ°€ μ κ³µν•λ” λ¨λ“  κΈ°λ¥μ΄ μ™Έλ¶€λ΅ λ…Έμ¶λλ‹¤.
- Sensorμ 'μ™Έλ¶€' μ½”λ“ κ΄€μ μ—μ„ Sensor κ°μ²΄μ κ°’λ“¤λ§ κ°€μ Έμ¤κ³  μ‹¶λ‹¤.

π¤® **Bad case**

```java
Map<Sensor> sensors = new HashMap<Sensor>();
Sensor s = sensors.get(sensorId);
```

- Map μΈν„°νμ΄μ¤κ°€ μ κ³µν•λ” λ¨λ“  κΈ°λ¥μ΄ λ…Έμ¶λλ‹¤ (clear()μ²λΌ μ κ³µν•κ³  μ‹¶μ§€ μ•μ€ κΈ°λ¥λ„ λ¨λ‘ μ‚¬μ©μ΄ κ°€λ¥ν•΄μ§„λ‹¤. - side effectμ μ£Όλ μ›μΈμ΄ λλ‹¤.)
- μ„ μμ‹μ™€ κ°™μ΄ μ™Έλ¶€ μ½”λ“κ°€ ν•¨λ¶€λ΅ νΈμ¶ν•λ©΄ sensor λ°μ΄ν„°κ°€ μ†μƒλ  μ μκ³ , μ΄λ” μλ„μ™€ λ²—μ–΄λ‚λ‹¤.

π™‚**Good case**

```java
public class Sensors {
	private Map<Sensor> sensors = new HashMap<>();
	
	public Sensor getById(String sensorId) {
		return sensors.get(sensorId)
	}
}
```

- μΊ΅μν™”λ¥Ό ν†µν•΄ Mapμ„ κ°μ¶λ‹¤.
- μ„ μ½”λ“μ²λΌ μ°λ¦¬κ°€ μ κ³µν•κ³ μ‹¶μ€ κΈ°λ¥λ§ μ™Έλ¶€λ΅ λ…Έμ¶ν•  μ μλ‹¤.
- μ μ ν• κ²½κ³„λ΅ μ½”λ“λ¥Ό λ³΄νΈν•  μ μλ‹¤.

### 2. κ²½κ³„μ§“κΈ°(2) - μ™Έλ¶€ μ½”λ“μ™€ νΈν™ν•κΈ° (μ–΄λ‘ν„° ν¨ν„΄)

μ™Έλ¶€ μ½”λ“λ¥Ό νΈμ¶ν•  λ• μ°λ¦¬κ°€ μ›ν•λ” λ°©μ‹μΌλ΅ μ‚¬μ©ν•κ³  μ‹¶λ‹¤! 

<img width="485" alt="α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2021-08-24 α„‹α…©α„’α…® 11 17 10" src="https://user-images.githubusercontent.com/39195377/130645760-500cd812-19ba-4534-b10a-995b2110be5a.png">


Adapter λ€ λ‹¤λ¥Έ μ „κΈ°λ‚ κΈ°κ³„ μ¥μΉλ¥Ό μ„λ΅ μ—°κ²°ν•΄μ„ μ‘λ™ν•  μ μλ„λ΅ λ§λ“¤μ–΄μ£Όλ” λ„κµ¬μ΄λ‹¤. κ°€μ¥ λ€ν‘μ μΈ μλ΅ μ°λ¦¬κ°€ μΌλ³Έμ—¬ν–‰μ„ κ°”μ„λ• 110Vλ¥Ό 220Vλ΅ λ³€ν™ν•  μ μλ” λ„κµ¬λ¥Ό μƒκ°ν•λ©΄ μ΄ν•΄κ°€ μ‰¬μΈκ²ƒμ΄λ‹¤.

β†’ μ¦‰, ν΄λμ¤μ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©μκ°€ κΈ°λ€ν•λ” λ‹¤λ¥Έ μΈν„°νμ΄μ¤λ΅ λ³€ν™ν•λ” ν¨ν„΄μ„ μ–΄λ‘ν„° ν¨ν„΄μ΄λΌκ³  ν•λ‹¤.

μ‰½κ² λ§ν•΄μ„ Bλ¥Ό Aμ²λΌ ν¬μ¥ν•μ—¬ Aλ΅ μ‚¬μ©ν•  μ μκ² ν•λ” ν¨ν„΄μ΄λ‹¤.

π¤” **μ™ μ‚¬μ©ν•΄μ•Ό ν• κΉ?**

κΈ°μ΅΄μ ν΄λμ¤λ¥Ό μ¬μ‚¬μ©ν•λ ¤κ³  ν•λ‚, κ·Έ μΈν„°νμ΄μ¤κ°€ μ›ν•λ”κ²ƒκ³Ό λ™μΌν•μ§€ μ•μ„ λ• νΈν™μ„±μ„ μ„ν•΄ μ‚¬μ©ν•λ‹¤.

**π§ Target Interface** : Apdapterκ°€ implements ν•λ” μΈν„°νμ΄μ¤λ΅, ν΄λΌμ΄μ–ΈνΈλ” Target interfaceλ¥Ό ν†µν•΄ AdapteeμΈ μ¨λ“νν‹° λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•κ² λλ‹¤.

```java
public interface Duck {
	public void quack();
	public void fly();
}

public class MallardDuck implements Duck {

	public void quack() {
		System.out.println("κ½¥! κ½¥!");
	}

	public void fly() {
		System.out.println("λ‚ λΌκ° μ μμµλ‹λ‹¤!");
	}
}
```

**π§ Adaptee :** μ¨λ“νν‹° λΌμ΄λΈλ¬λ¦¬λ‚ μ™Έλ¶€μ‹μ¤ν…μ„ μλ―Έν•©λ‹λ‹¤.

```java
public interface Turkey {
	public void gobble();
	public void fly();
}

public class WildTurkey implements Turkey {
	
	public void gobble() {
		System.out.println("κ³ λ¥΄λ¥µ ! κ³ λ¥΄λ¥µ !");
	}

	public void fly() {
		System.out.println("μ§§μ€κ±°λ¦¬λ§ λ‚ λΌκ° μ μμµλ‹λ‹¤.");
	}
}
```

**π§ Adapter :** Clientμ™€ Adaptee μ¤‘κ°„μ— νΈν™μ„±μ΄ μ—†λ” λ‘μ„ μ—°κ²°μ‹μΌμ£Όλ” μ—­ν• μ„ λ‹΄λ‹Ήν•©λ‹λ‹¤. Target Interfaceλ¥Ό implementsν•λ©°, ν΄λΌμ΄μ–ΈνΈλ” Target Interfaceλ¥Ό ν†µν•΄ μ–΄λ‘ν„°μ— μ”μ²­μ„ λ³΄λƒ…λ‹λ‹¤. μ–΄λ‘ν„°λ” ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ Adapteeκ°€ μ΄ν•΄ν•  μ μλ” λ°©λ²•μΌλ΅ μ „λ‹¬ν•κ³ , μ²λ¦¬λ” Adapteeμ—μ„ μ΄λ£¨μ–΄ μ§‘λ‹λ‹¤.

```java
public class TurkeyAdapter implements Duck {

	Turkey turkey;

	public TurkeyAdapter(Turkey turkey) {
		this.turkey = turkey;
	}

	public void quack() {
		turkey.gobble();
	}

	public void fly() {
		turkey.fly();
	}
}		
```
